<!DOCTYPE html>                                                                                                                                                                                                     
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="keywords" content="[keywords]" />
    <meta name="description" content="[description]"/>
    <meta http-equiv="Cache-Control" content="no-transform" /> 
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    {% load static %}
    <title>User Manage</title>

    <link rel="stylesheet" href="{% static '/blockchain/css/common.css' %}">
    <link rel="stylesheet" href="{% static '/blockchain/css/admin.css' %}">
    <link rel="stylesheet" href="{% static '/blockchain/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static '/common/DataTables-1.10.8/css/jquery.dataTables.css' %}">
    <link rel="stylesheet" href="{% static '/common/font-awesome-4.5.0/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static '/blockchain/css/style.css' %}">
    <script type="text/javascript" src="{% static '/blockchain/plugins/jquery-1.11.2.js' %}"></script>

</head>
<body>
	<div id="managers-list">
		<table class="table table-border">
			<thead>
				<tr>
					<th width="250">权限</th>
					<th width="150">负责人ID</th>
					<th width="200">负责人名称</th>
					<th width="200">负责专业</th>
					<th width="200">负责课程</th>
					<th width="350">操作</th>
				</tr>
			</thead>
			<tbody class="text-center">
				<foreach name="managers" item="vi">
					<tr>
					<assign name="first" value="1" />
					<foreach name="vi" item="entry">
						<if condition="$first eq 1 and $vi.len neq 0">
								<td rowspan="{$vi.len}">{$entry.manage}</td>
								<td>{$entry.userid}</td>
								<td>{$entry.username}</td>
								<td>{$entry.direction}</td>
								<td>{$entry.course}</td>
								<td>
									<a class="delete-button" data-id="{$entry.userid}" direction="{$entry.direction}" course="{$entry.course}" manage-id="{$entry.manage}"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;&nbsp;&nbsp;
									<a class="add-button" manage-id="{$entry.manage}"><i class="fa fa-plus" aria-hidden="true"></i></a>
								</td>
							</tr>
							<assign name="first" value="0" />
						<elseif condition="$key neq 'len'" />
							<tr>
								<td>{$entry.userid}</td>
								<td>{$entry.username}</td>
								<td>{$entry.direction}</td>
								<td>{$entry.course}</td>
								<td>
									<a class="delete-button" data-id="{$entry.userid}" direction="{$entry.direction}" course="{$entry.course}" manage-id="{$entry.manage}"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;&nbsp;&nbsp;
									<a class="add-button" manage-id="{$entry.manage}"><i class="fa fa-plus" aria-hidden="true"></i></a>
								</td>
							</tr>
						</if>
					</foreach>
				</foreach>
			</tbody>
		</table>
	</div>

	<div id="managers-addition" class="none">
		<table id="managers-add-table" class="table table-border">
			<tbody>
				<tr>
					<td>权限</td>
					<td id="managers-add-td1"></td>
				</tr>
				<tr id="direction">
					<td>专业方向</td>
					<td>
						<select name="direction" class="choose" id="direction-val">
							<foreach name="direction" item="vi">
								<option value="{$vi.id}">{$vi.direction}</option>
							</foreach>
						</select>
					</td>
				</tr>
				<tr id="course">
					<td>相应课程</td>
					<td>
						<select name="course" class="choose" id="course-val">
						<foreach name="course" item="vi">
							<option value="{$vi.id}">{$vi.course}</option>
						</foreach>
						</select>
					</td>
				</tr>
				<tr>
					<td>负责人</td>
					<td></td>
				</tr>
			</tbody>
		</table>

		<table id="userList" class="table table-border none">
			<thead>
				<th>ID</th>
				<th>名称</th>
				<th></th>
			</thead>
			<tbody>
				<foreach name="userList" item="vi">
					<tr>
						<td>{$vi.userid}</td>
						<td>{$vi.username}</td>
						<td data-id="{$vi.userid}"><input type="checkbox"></td>
					</tr>
				</foreach>
			</tbody>
		</table>
		<div id="table-addition-submit">
			<input type="button" value="提交" class="submit">
			<input type="reset" value="取消" class="reset">
		</div>
	</div>

    <script charset="utf8" src="{% static '/common/DataTables-1.10.8/js/jquery.dataTables.js' %}"></script>
    <script charset="utf8" src="{% static '/blockchain/script/manager.js'"></script>

</body>

</html>
	<div id="managers-list">
		<table class="table table-border">
			<thead>
				<tr>
					<th width="150" class="text-center">User</th>
					<th width="150" class="text-center">Root</th>
					<th width="200" class="text-center">Modify</th>
				</tr>
			</thead>
			<tbody>
                {% for user in users %}
					<tr>
                        <td class="text-center">{{ user.id }}</td>
                        <td class="text-center">
                            {% if user.root %}<i class="fa fa-check">{% else %}{% endif %}
                        </td>
					    <td class="text-center">
			        		&nbsp;<a class="modify-button"><i class="fa fa-pencil-square-o"></i></a>
					    	<a class=" none modify-cancel-button"><i class="fa fa-adjust"></i></a>&nbsp;&nbsp;&nbsp;
							<a class="none modify-submit-button"><i class="fa fa-check"></i></a>&nbsp;
						</td>
					</tr>
                {% endfor %}
			</tbody>
		</table>
	</div>
	
    <script src="{% static '/blockchain/script/resItem.js' %}"></script>
</body>
</html>

